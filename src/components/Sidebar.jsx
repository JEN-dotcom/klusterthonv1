import React, { useState } from "react";
import { useDispatch } from "react-redux";
import { Link, useLocation } from "react-router-dom";
import { logoutUser } from "../features/auth/authSlice";
import LogoutModal from "./UI/LogoutModal";

function Sidebar() {
  const location = useLocation();
  const path = location.pathname.split("/")[1];
  const dispatch = useDispatch();
  const [logoutModal, setLogoutModal] = useState(false);
  return (
    <div className="w-4/5">
      {logoutModal && <LogoutModal toggleModal={() => setLogoutModal(false)} />}
      <div>
        <h3 className="text-sm text-sv-grey uppercase font-medium">
          analytics
        </h3>
        <Link to={"/"}>
          <div
            className={`${
              path === "" ? "bg-sv-amber-light text-sv-amber" : ""
            } p-3 flex mt-2 rounded-xl`}
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.5"
                d="M2.35352 12.4944C2.35352 10.2662 2.35352 9.15262 2.8597 8.22981C3.36394 7.30603 4.28772 6.73365 6.13432 5.58695L8.08118 4.37892C10.0329 3.167 11.0093 2.56152 12.0878 2.56152C13.1664 2.56152 14.1418 3.167 16.0945 4.37892L18.0413 5.58695C19.8879 6.73365 20.8117 7.30603 21.3169 8.22981C21.8221 9.15262 21.8221 10.2662 21.8221 12.4934V13.975C21.8221 17.7714 21.8221 19.6705 20.6813 20.8503C19.5414 22.0301 17.7055 22.0301 14.0347 22.0301H10.141C6.47016 22.0301 4.63426 22.0301 3.49438 20.8503C2.35352 19.6705 2.35352 17.7724 2.35352 13.975V12.4944Z"
                stroke="white"
                stroke-width="1.46015"
              />
              <path
                d="M12.0879 15.2163V18.1366"
                stroke="white"
                stroke-width="1.46015"
                stroke-linecap="round"
              />
            </svg>
            <span className="ml-3 font-medium text-white">Overview</span>
          </div>
        </Link>
      </div>
      <div className="mt-8">
        <h3 className="text-sm text-sv-grey uppercase font-medium">
          management
        </h3>
        <Link to={"/clients"}>
          <div
            className={`${
              path === "clients" ? "bg-sv-amber-light text-sv-amber" : ""
            } p-3 flex mt-2 rounded-xl`}
          >
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_63_1885)">
                <path
                  d="M12.4062 10.5972C14.6154 10.5972 16.4062 8.80631 16.4062 6.59717C16.4062 4.38803 14.6154 2.59717 12.4062 2.59717C10.1971 2.59717 8.40625 4.38803 8.40625 6.59717C8.40625 8.80631 10.1971 10.5972 12.4062 10.5972Z"
                  stroke="white"
                  stroke-width="1.5"
                />
                <path
                  opacity="0.5"
                  d="M18.4062 9.59717C20.0632 9.59717 21.4062 8.47717 21.4062 7.09717C21.4062 5.71717 20.0632 4.59717 18.4062 4.59717M6.40625 9.59717C4.74925 9.59717 3.40625 8.47717 3.40625 7.09717C3.40625 5.71717 4.74925 4.59717 6.40625 4.59717"
                  stroke="white"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M12.4062 21.5972C15.72 21.5972 18.4062 19.8063 18.4062 17.5972C18.4062 15.388 15.72 13.5972 12.4062 13.5972C9.09254 13.5972 6.40625 15.388 6.40625 17.5972C6.40625 19.8063 9.09254 21.5972 12.4062 21.5972Z"
                  stroke="white"
                  stroke-width="1.5"
                />
                <path
                  opacity="0.5"
                  d="M20.4062 19.5972C22.1602 19.2122 23.4062 18.2382 23.4062 17.0972C23.4062 15.9562 22.1602 14.9822 20.4062 14.5972M4.40625 19.5972C2.65225 19.2122 1.40625 18.2382 1.40625 17.0972C1.40625 15.9562 2.65225 14.9822 4.40625 14.5972"
                  stroke="white"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </g>
              <defs>
                <clipPath id="clip0_63_1885">
                  <rect
                    width="24"
                    height="24"
                    fill="white"
                    transform="translate(0.40625 0.597168)"
                  />
                </clipPath>
              </defs>
            </svg>

            <span className="ml-3 font-medium text-white">Clients</span>
          </div>
        </Link>
        <Link to={"/invoices"}>
          <div
            className={`${
              path === "invoices" ? "bg-sv-amber-light text-sv-amber" : ""
            } p-3 flex mt-2  rounded-xl`}
          >
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.9062 10.4966C13.9062 10.2977 13.8272 10.1069 13.6866 9.96625C13.5459 9.8256 13.3552 9.74658 13.1562 9.74658H7.15625C6.95734 9.74658 6.76657 9.8256 6.62592 9.96625C6.48527 10.1069 6.40625 10.2977 6.40625 10.4966C6.40625 10.6955 6.48527 10.8863 6.62592 11.0269C6.76657 11.1676 6.95734 11.2466 7.15625 11.2466H13.1562C13.3552 11.2466 13.5459 11.1676 13.6866 11.0269C13.8272 10.8863 13.9062 10.6955 13.9062 10.4966ZM12.9062 13.4966C12.9062 13.2977 12.8272 13.1069 12.6866 12.9663C12.5459 12.8256 12.3552 12.7466 12.1562 12.7466H7.15625C6.95734 12.7466 6.76657 12.8256 6.62592 12.9663C6.48527 13.1069 6.40625 13.2977 6.40625 13.4966C6.40625 13.6955 6.48527 13.8863 6.62592 14.0269C6.76657 14.1676 6.95734 14.2466 7.15625 14.2466H12.1562C12.3552 14.2466 12.5459 14.1676 12.6866 14.0269C12.8272 13.8863 12.9062 13.6955 12.9062 13.4966ZM13.1562 15.7466C13.3552 15.7466 13.5459 15.8256 13.6866 15.9663C13.8272 16.1069 13.9062 16.2977 13.9062 16.4966C13.9062 16.6955 13.8272 16.8863 13.6866 17.0269C13.5459 17.1676 13.3552 17.2466 13.1562 17.2466H7.15625C6.95734 17.2466 6.76657 17.1676 6.62592 17.0269C6.48527 16.8863 6.40625 16.6955 6.40625 16.4966C6.40625 16.2977 6.48527 16.1069 6.62592 15.9663C6.76657 15.8256 6.95734 15.7466 7.15625 15.7466H13.1562Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M6.40625 22.4965H19.4062C20.1356 22.4965 20.8351 22.2067 21.3508 21.691C21.8665 21.1753 22.1562 20.4758 22.1562 19.7465V14.2465C22.1562 14.0475 22.0772 13.8568 21.9366 13.7161C21.7959 13.5755 21.6052 13.4965 21.4062 13.4965H18.1562V5.68946C18.1562 4.26646 16.5472 3.43846 15.3892 4.26546L15.2142 4.39046C14.831 4.66248 14.3726 4.80828 13.9026 4.80757C13.4327 4.80685 12.9746 4.65965 12.5922 4.38646C11.9539 3.93213 11.1898 3.68799 10.4062 3.68799C9.6227 3.68799 8.85863 3.93213 8.22025 4.38646C7.83787 4.65965 7.37984 4.80685 6.90989 4.80757C6.43994 4.80828 5.98146 4.66248 5.59825 4.39046L5.42325 4.26546C4.26525 3.43846 2.65625 4.26546 2.65625 5.68946V18.7465C2.65625 19.741 3.05134 20.6948 3.7546 21.3981C4.45786 22.1014 5.41169 22.4965 6.40625 22.4965ZM9.09225 5.60646C9.4762 5.3339 9.9354 5.18748 10.4062 5.18748C10.8771 5.18748 11.3363 5.3339 11.7203 5.60646C12.357 6.06158 13.1198 6.30667 13.9024 6.30757C14.6851 6.30846 15.4485 6.06512 16.0863 5.61146L16.2612 5.48646C16.2986 5.45987 16.3425 5.44406 16.3883 5.44076C16.434 5.43746 16.4797 5.4468 16.5205 5.46776C16.5613 5.48871 16.5955 5.52048 16.6195 5.55958C16.6434 5.59868 16.6561 5.64361 16.6562 5.68946V19.7465C16.6562 20.1965 16.7642 20.6215 16.9562 20.9965H6.40625C5.80951 20.9965 5.23722 20.7594 4.81526 20.3374C4.3933 19.9155 4.15625 19.3432 4.15625 18.7465V5.68946C4.15637 5.64361 4.16909 5.59868 4.19303 5.55958C4.21697 5.52048 4.2512 5.48871 4.29198 5.46776C4.33275 5.4468 4.37851 5.43746 4.42423 5.44076C4.46996 5.44406 4.5139 5.45987 4.55125 5.48646L4.72625 5.61146C5.364 6.06512 6.12741 6.30846 6.91005 6.30757C7.69269 6.30667 8.45554 6.06158 9.09225 5.60646ZM18.1562 19.7465V14.9965H20.6562V19.7465C20.6562 20.078 20.5246 20.3959 20.2901 20.6303C20.0557 20.8648 19.7378 20.9965 19.4062 20.9965C19.0747 20.9965 18.7568 20.8648 18.5224 20.6303C18.2879 20.3959 18.1562 20.078 18.1562 19.7465Z"
                fill="#8B8B8B"
              />
            </svg>

            <span className="ml-3 font-medium text-white">Invoice</span>
          </div>
        </Link>
      </div>
      <button
        onClick={() => setLogoutModal(true)}
        className="w-full mt-20 p-3 flex hover:bg-sv-highlight-1 rounded-xl"
      >
        <svg
          width="24"
          height="25"
          viewBox="0 0 24 25"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity="0.5"
            d="M9.16992 7.47165C9.1816 5.35443 9.27603 4.20773 10.0236 3.46014C10.8793 2.60449 12.2557 2.60449 15.0086 2.60449H15.982C18.7358 2.60449 20.1123 2.60449 20.9679 3.46014C21.8226 4.31481 21.8226 5.69222 21.8226 8.44508V16.2325C21.8226 18.9854 21.8226 20.3628 20.9679 21.2175C20.1113 22.0731 18.7358 22.0731 15.982 22.0731H15.0086C12.2557 22.0731 10.8793 22.0731 10.0236 21.2175C9.27603 20.4699 9.1816 19.3232 9.16992 17.206"
            stroke="white"
            stroke-width="1.46015"
            stroke-linecap="round"
          />
          <path
            d="M15.0081 12.3388H2.35352M2.35352 12.3388L5.76052 9.41846M2.35352 12.3388L5.76052 15.259"
            stroke="white"
            stroke-width="1.46015"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>

        <span className="ml-3 font-medium text-white">Log out</span>
      </button>
    </div>
  );
}

export default Sidebar;
